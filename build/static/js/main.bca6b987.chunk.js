(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(90)},50:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},89:function(e,t,a){e.exports=a.p+"static/media/admin-panel-background-images-5.8d2b6844.jpg"},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),s=a.n(l),i=(a(50),a(11)),o=a(4),c=a.n(o),u=a(5),p=a(8),m=a(15),d=a(16),v=a(19),f=a(17),b=a(20),h=a(91),g=a(93),y=a(92),S="http://merchansky-001-site1.dtempurl.com/api/users/signin",E="http://merchansky-001-site1.dtempurl.com/api/levels/create",w=a(36),O=a.n(w),j=(a(75),function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Loader-wrapper"},r.a.createElement(O.a,{type:"Oval",color:"#282c34ba",height:"100",width:"100"}))}}]),t}(n.Component)),N=(a(76),"Something was wrong:\n1. Invalid credentials\n2. Server error.\nPlease, try again"),k=function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("p",{className:"subtitle-auth"},"Authentication..."))},x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).signInAsync=Object(p.a)(c.a.mark(function e(){var t,n,r,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return Object(u.a)({},e,{loading:!0})}),t=a.state,n=t.email,r=t.password,l={email:n,password:r},s={method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)},Object(p.a)(c.a.mark(function e(){var t,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S,s);case 2:if(!((t=e.sent).status>205&&t.status<500)){e.next=7;break}return a.setState(function(e){return{loading:!1}}),window.alert(N),e.abrupt("return",!1);case 7:return e.next=9,t.json();case 9:l=e.sent,localStorage.setItem("info",JSON.stringify({accessToken:l.accessToken,refreshToken:l.refreshToken,expires:l.expires,email:n,password:r})),a.setState(function(e){return Object(u.a)({},e,{accessToken:l.accessToken,refreshToken:l.refreshToken,expires:l.expires,loading:!1})}),a.props.history.push("/dashboard");case 13:case"end":return e.stop()}},e)}))();case 5:case"end":return e.stop()}},e)})),a.handleChange=function(e){a.setState(Object(i.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(p.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.signInAsync();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:"",accessToken:"",refreshToken:"",expires:null,loading:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login-wrapper"},r.a.createElement("div",{className:"Login"},this.state.loading?r.a.createElement(k,null):[r.a.createElement("h1",{key:"1",className:"Login-title"},"Beneficio"),r.a.createElement("form",{key:"2",onSubmit:this.handleSubmit},r.a.createElement(h.a,{controlId:"email",bsSize:"large"},r.a.createElement("p",{className:"subtitle"},"Email"),r.a.createElement(g.a,{placeholder:"Email",autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(h.a,{controlId:"password",bsSize:"large"},r.a.createElement("p",{className:"subtitle"},"Password"),r.a.createElement(g.a,{placeholder:"Password",value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(y.a,{block:!0,bsSize:"large",className:this.validateForm()?"submit-btn":"submit-btn-error",disabled:!this.validateForm(),type:"submit"},"Login"))]))}}]),t}(n.Component),V=a(33),C=(a(78),function(e){var t=e.item,a=e.index,n=e.onDelete;return r.a.createElement("div",{className:"completed-step-item"},r.a.createElement("div",{className:"step-header"},r.a.createElement("div",{className:"step-index"},"Step ",a+1,"."),r.a.createElement("div",{className:"step-delete"},r.a.createElement(y.a,{className:"step-delete-btn",onClick:function(){return n(a)}},"Delete"))),r.a.createElement("div",{className:"step-body"},r.a.createElement("div",{className:"step-body-title",alt:t.title},"Title: ",t.title),r.a.createElement("div",{className:"step-body-description",alt:t.description},"Description: ",t.description),r.a.createElement("div",{className:"step-body-imgUrl",alt:t.imageUrl},"Image link: ",t.imageUrl)))}),A="Something was wrong:\n1. Server error.\nPlease, try again",F={title:"",description:"",imageUrl:""},I={logoUrl:{value:"",isValid:!1},title:{value:"",isValid:!1},time:{value:"",isValid:!1},possibleEarnings:{value:"",isValid:!1},description:{value:"",isValid:!1},subtitle:{value:"",isValid:!1},steps:[],presentPrice:{value:"",isValid:!1},temporaryStep:{title:"",description:"",imageUrl:""},stepValid:!1,loading:!1},T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).logOutAsync=Object(p.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Do you really want to leave?")){e.next=3;break}return e.abrupt("return",!1);case 3:a.setState(function(e){return Object(u.a)({},e,{loading:!0})}),localStorage.removeItem("info"),a.props.history.push("/"),a.setState(function(e){return Object(u.a)({},e,{loading:!1})});case 7:case"end":return e.stop()}},e)})),a.handleSubmitAsync=function(){var e=Object(p.a)(c.a.mark(function e(t){var n,r,l,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Do you really want create this level ?")){e.next=4;break}return e.abrupt("return",!1);case 4:n=JSON.parse(localStorage.getItem("info")),r=n.email,l=n.password,s={logoUrl:a.state.logoUrl.value,title:a.state.title.value,time:a.state.time.value,possibleEarnings:a.state.possibleEarnings.value,description:a.state.description.value,subtitle:a.state.subtitle.value,steps:a.state.steps,presentPrice:a.state.presentPrice.value,injection:{email:r,password:l}},i={method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)},Object(p.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(function(e){return Object(u.a)({},e,{loading:!0})}),e.next=3,fetch(E,i);case 3:if(!((t=e.sent).status>205&&t.status<500)){e.next=8;break}return a.setState(function(e){return{loading:!1}}),window.alert(A),e.abrupt("return",!1);case 8:a.setState(function(e){return Object(u.a)({},e,I,{loading:!1})}),window.alert("Level successfully created!");case 10:case"end":return e.stop()}},e)}))();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.validateFieldAsync=function(){var e=Object(p.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&null!==n&&" "!==n){e.next=3;break}return a.setState(function(e){return Object(u.a)({},e,Object(i.a)({},t,{value:n,isValid:!1}))}),e.abrupt("return",!1);case 3:a.setState(function(e){return Object(u.a)({},e,Object(i.a)({},t,{value:n,isValid:!0}))});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.validateStepAsync=function(){var e=Object(p.a)(c.a.mark(function e(t,n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&null!==n&&" "!==n){e.next=3;break}return a.setState(function(e){return Object(u.a)({},e,{temporaryStep:Object(u.a)({},a.state.temporaryStep,Object(i.a)({},t,n))})}),e.abrupt("return",!1);case 3:a.setState(function(e){return Object(u.a)({},e,{temporaryStep:Object(u.a)({},a.state.temporaryStep,Object(i.a)({},t,n))})}),""!==(r=Object.values(a.state.temporaryStep))[0]&&""!==r[1]&&""!==r[2]&&a.setState(function(e){return Object(u.a)({},e,{stepValid:!0})});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addStep=function(e){a.setState(function(t){return Object(u.a)({},t,{steps:[].concat(Object(V.a)(a.state.steps),[e]),temporaryStep:Object(u.a)({},F),stepValid:!1})})},a.deleteStep=function(e){var t=a.state.steps.filter(function(t,a){return a!=e});a.setState(function(e){return Object(u.a)({},e,{steps:Object(V.a)(t)})})},a.state={logoUrl:{value:"",isValid:!1},title:{value:"",isValid:!1},time:{value:"",isValid:!1},possibleEarnings:{value:"",isValid:!1},description:{value:"",isValid:!1},subtitle:{value:"",isValid:!1},steps:[],presentPrice:{value:"",isValid:!1},temporaryStep:{title:"",description:"",imageUrl:""},stepValid:!1,loading:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){localStorage.removeItem("info")}},{key:"componentWillMount",value:function(){null===localStorage.getItem("info")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.logoUrl,n=t.title,l=t.time,s=t.possibleEarnings,i=t.description,o=t.subtitle,c=t.presentPrice,u=t.steps,p=a.isValid&&n.isValid&&l.isValid&&s.isValid&&i.isValid&&o.isValid&&c.isValid&&u.length>0;return r.a.createElement("div",{className:"Dashboard"},this.state.loading?r.a.createElement(j,null):[r.a.createElement("h1",{key:"1",className:"Login-title"},"New level"),r.a.createElement("div",{key:"2",className:"form-wrapper"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmitAsync(t)}},r.a.createElement(h.a,{controlId:"text",bsSize:"large"},r.a.createElement("p",{className:"form-subtitle"},"Logo url (Level logotype link):"),r.a.createElement(g.a,{placeholder:"Logo url",autoFocus:!0,className:"form-control-level",type:"text",name:"logoUrl",value:this.state.logoUrl.value,onChange:function(t){return e.validateFieldAsync("logoUrl",t.target.value)}})),r.a.createElement("div",{className:"multi-column-fields"},r.a.createElement(h.a,{controlId:"text",className:"multiply-form-group",bsSize:"large"},r.a.createElement("p",{className:"form-multiply-subtitle"},"Title (Level title):"),r.a.createElement(g.a,{placeholder:"Title",autoFocus:!0,className:"form-multiply-control-level",type:"text",name:"title",value:this.state.title.value,onChange:function(t){return e.validateFieldAsync("title",t.target.value)}})),r.a.createElement(h.a,{controlId:"text",className:"multiply-form-group",bsSize:"large"},r.a.createElement("p",{className:"form-multiply-subtitle"},"Time (Level passing time):"),r.a.createElement(g.a,{autoFocus:!0,placeholder:"Time",className:"form-multiply-control-level",type:"text",name:"time",value:this.state.time.value,onChange:function(t){return e.validateFieldAsync("time",t.target.value)}}))),r.a.createElement(h.a,{controlId:"text",bsSize:"large"},r.a.createElement("p",{className:"form-subtitle"},"Description (Short level description):"),r.a.createElement(g.a,{autoFocus:!0,placeholder:"Description",className:"form-textarea-level",type:"text",as:"textarea",rows:"3",name:"description",value:this.state.description.value,onChange:function(t){return e.validateFieldAsync("description",t.target.value)}})),r.a.createElement("div",{className:"multi-column-fields"},r.a.createElement(h.a,{controlId:"text",className:"multiply-form-group",bsSize:"large"},r.a.createElement("p",{className:"form-multiply-subtitle"},"Possible earnings (USD):"),r.a.createElement(g.a,{placeholder:"0.00",autoFocus:!0,className:"form-multiply-control-level",type:"text",name:"possibleEarnings",value:this.state.possibleEarnings.value,onChange:function(t){return e.validateFieldAsync("possibleEarnings",t.target.value)}})),r.a.createElement(h.a,{controlId:"text",className:"multiply-form-group",bsSize:"large"},r.a.createElement("p",{className:"form-multiply-subtitle"},"Present price (USD):"),r.a.createElement(g.a,{placeholder:"0.00",autoFocus:!0,className:"form-multiply-control-level",type:"text",name:"presentPrice",value:this.state.presentPrice.value,onChange:function(t){return e.validateFieldAsync("presentPrice",t.target.value)}}))),r.a.createElement(h.a,{controlId:"text",bsSize:"large"},r.a.createElement("p",{className:"form-subtitle"},"Subtitle (Steps to reproduce):"),r.a.createElement(g.a,{placeholder:"Subtitle",autoFocus:!0,className:"form-control-level",type:"text",name:"subtitle",value:this.state.subtitle.value,onChange:function(t){return e.validateFieldAsync("subtitle",t.target.value)}})),r.a.createElement("div",{className:"steps-wrapper-container"},this.state.steps.map(function(t,a){return r.a.createElement(C,{key:a+t,item:t,index:a,onDelete:e.deleteStep})})),r.a.createElement(h.a,{controlId:"text",bsSize:"large"},r.a.createElement("p",{className:"step-subtitle"},"Steps:"),r.a.createElement(g.a,{placeholder:"Step title:",autoFocus:!0,className:"form-control-level step-field",type:"text",name:"temporaryStep",value:this.state.temporaryStep.title,onChange:function(t){return e.validateStepAsync("title",t.target.value)}}),r.a.createElement(g.a,{placeholder:"Step description:",autoFocus:!0,className:"form-control-level step-field",type:"text",name:"temporaryStep",value:this.state.temporaryStep.description,onChange:function(t){return e.validateStepAsync("description",t.target.value)}}),r.a.createElement(g.a,{placeholder:"Step image url (optional):",autoFocus:!0,className:"form-control-level step-field",type:"text",name:"temporaryStep",value:this.state.temporaryStep.imageUrl,onChange:function(t){return e.validateStepAsync("imageUrl",t.target.value)}}),r.a.createElement(y.a,{block:!0,bsSize:"large",className:this.state.stepValid?"step-add-button":"step-add-button-invalid",disabled:!this.state.stepValid,onClick:function(t){return e.addStep(e.state.temporaryStep)}},"Add step")),r.a.createElement(y.a,{block:!0,bsSize:"large",className:p?"submit-btn":"submit-btn-error",disabled:!p,type:"submit"},"Create level")),r.a.createElement(y.a,{key:"2",block:!0,bsSize:"large",className:"log-out-btn",onClick:function(){return e.logOutAsync()}},"Log out"))])}}]),t}(n.Component),U=(a(79),a(13)),P=a(89);var z=function(){return console.log(U.c,"browserHistory"),r.a.createElement("div",{className:"App",name:"some name",style:{backgroundImage:"url("+P+")"}},r.a.createElement(U.b,{history:U.c},r.a.createElement(U.a,{path:"/",exact:!0,component:function(){return r.a.createElement(x,{history:U.c})}}),r.a.createElement(U.a,{path:"/dashboard",exact:!0,component:function(){return r.a.createElement(T,{history:U.c})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.bca6b987.chunk.js.map